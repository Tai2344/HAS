<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{layout/plantilla :: head}">
    <title th:inline="text">[[#{aministracion.editarusuario.titulo}]]</title>
</head>
<body>
<header th:replace="~{layout/plantilla :: header}"></header>

<main class="container my-5">
    <div class="row justify-content-center">
        <div class="col-md-7 col-lg-6">
            <h3 class="mb-4 text-center">[[#{aministracion.editarusuario.titulo}]]</h3>

            <form th:action="@{/administracion/editarUsuario}" th:object="${usuario}" method="post" class="card p-4 shadow-sm">
                <input type="hidden" th:field="*{idUsuario}" />

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.cedula}]]</label>
                    <input type="text" th:field="*{cedula}" class="form-control" readonly />
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.nombre}]]</label>
                    <input type="text" th:field="*{nombre}" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.apellidos}]]</label>
                    <input type="text" th:field="*{apellidos}" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.telefono}]]</label>
                    <input type="text" th:field="*{telefono}" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.padecimiento}]]</label>
                    <input type="text" th:field="*{padecimiento}" class="form-control" />
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.rol}]]</label>
                    <select th:field="*{rol.idRol}" class="form-select">
                        <option value="1">[[#{aministracion.editarusuario.rol.admin}]]</option>
                        <option value="2">[[#{aministracion.editarusuario.rol.usuario}]]</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">[[#{aministracion.editarusuario.activo}]]</label>
                    <select th:field="*{activo}" class="form-select">
                        <option value="true">[[#{aministracion.editarusuario.activo.si}]]</option>
                        <option value="false">[[#{aministracion.editarusuario.activo.no}]]</option>
                    </select>
                </div>

                <!-- Campo oculto para mantener la contraseÃ±a existente -->
                <input type="hidden" th:field="*{password}" th:value="${usuario.password}" />

                <div class="d-flex justify-content-between mt-4">
                    <button type="submit" class="btn btn-success px-4">[[#{aministracion.editarusuario.guardar}]]</button>
                    <a href="/administracion/listado" class="btn btn-danger px-4">[[#{aministracion.editarusuario.cancelar}]]</a>
                </div>
            </form>
        </div>
    </div>
</main>

<footer th:replace="~{layout/plantilla :: footer}"></footer>
</body>
</html>
